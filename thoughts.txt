A Workout consists of Exercises

An Exercise consists of a 
- name
- notes
  - rep range
  - working weight
  - technique
- Sets

A Set consists of a
- set number
- weight done
- reps completed
- type ("WORKING", "WARMUP", "DROPSET", "FAILED")
- status ("COMPLETED", "IN PROGRESS")

Initialize newly picked exercise with one set with empty
weight and reps.
Set number starts with one and increments every time 
'Add Set' is pressed.
Type and status are initialized with values 'WORKING'
and 'IN PROGRESS' until the user possibly changes them.

Instead of having multiple components for headerTimer 
I should just render one from app and then manage what 
is shown from that one component and create more 
under that component as needed.


When to insert/modify data in database:
- When user starts a new blank workout or routine
- When a user creates/deletes a routine
- When a user adds/deletes an exerciseInstance
- When a user creates/deletes an exercise
- When a user changes the status of a set
- When the user ends/cancels a workout
- When a user looks at their workout history
- When a user looks at the history of an exercise

Need to add screens for these first

run on iphone simulator on mac: 
xcode > xcode tab > simulator
run expo start + i

only save an exercise and its data when at least one
set has its status changed to completed

when workout started generate workoutId and start stopwatch
need to put stopwatch somewhere

if user tries to end workout under a minute after the workout
was started or if workout has no exercises or if no completed sets
then cancel workout don't save

how to save entered data and active workout when 
app crashes/is killed/is in background?

need to set up notifications for set timer

when to save data? on change?

use context or just sql updates?

what if user unchecks the one set they completed?
need to track number of sets completed in workout

need to stop header timer when workout is ended

can't play sounds in background, going to have to use notifications
when app is in background when timer goes off

can't get custom sound to play for local notification only default

maybe try ejecting to react native app but then can't use
expo to publish to app store?

don't worry about notifications for now, worry about saving workout data

for a workout you can only update the name and duration, so do 
these at same time with one function

why update duration?
just set endTime at end with DATETIMENOW
then when need duration after workout is over
subtract start time from end time

no more checking workout duration when ending workout
doesn't make sense just go off completed sets

need to create exercise instance for each exercise in routine
if doing routine workout 
or if adding an exercise mid workout

only insert exercise instance if the set is completed?

NEED TO UPDATE EVERYTHING WHEN COMPLETED SET IS DELETED

should workout order be managed in active workout?
can't rely on number in routine if not using routine
or if user doesn't want to add that exercise to routine


just get size of routine when we are adding a new exercise

add exercise, change exercise order, and delete exercise actions
are done when action is done now and not when back button is pressed
in routine modal

when exercise is added the routine's current size is fetched and
incremented and the exercise is inserted into routineExerciseBridge

when order is changed every routineExercise numberInRoutine
is updated with the index of its position in the updated state
array passed from routineModal

when an exercise is deleted the exercise's current position is fetched,
then routineExerciseBrides are updated so that each routineExerciseBridge
with a numberInRoutine larger than the deleted exercise's current position
is decremented by one, then the exercise is deleted

need to handle adding deleting updating for exerciseInstances and sets

when to create exercise instance?
when set completed or when workout started if there is exercise
or when exercise is added

what if exercise is deleted or no sets are completed

start with empty workout?

need to maintain workoutInstance array in activeworkoutscreen in state?
would include exerciseInstanceId (exerciseName + workoutId), 
sets completed, and exercise position number in routine

workoutInstance should just use exerciseName and workoutId as primary key

adding exerciseInstances done for exerciseStateList
 
 start on set insertion?
 each exercise should start with one set in in progresss status

 primary key for sets will be made up of the set number, exerciseName,
 and workoutId

 need to test set insertion is working
 
should split db file into db folder with init, insert, update, and delete
files

does sets need setNumber to be part of key? setNumber is not unique value
and when would we ever need to fetch a specific set?

exercises added each get initial set now
need to implement updating and deleting sets